# Зайцева Юлия Александровна, БПИ213

# Домашнее задание №2
Написание программы на Си и разработка программы на ассемблере.

## Вариант задания 30: 
Разработать программу численного интегрирования функции y = a + b ∗ x^3 (задаётся действительными числами а,b) в определённом диапазоне целых (задаётся так же) методом трапеций (точность вычислений = 0.0001).

## Реализация программы на 9
1. **В коде на Си было реализовано:** 

a. Реализованы 3 функции (get - для чтения файла, count - для нахождения интеграла и вывода в файл, generation - генерация случайных наборов данных) с локальными переменными и передачей данных через параметры;

b. Есть возможность считывать данные из файла и выводить в файл (с помощью опции file);

c. Реализована генерация случайных наборов данных (с помощью опции gen). Числа a и b варьирутся в диапазоне от 0 до 10, нижний предел интегрирования - от 0 до 5, верхний - от 5 до 24.

d. Использована функция clock() для получения времени работы программы.

2. **В ассемблерном коде было реализовано:** 

a. Добавлены комментарии, поясняющие эквивалентное представление переменных в программе на C. Также комментарии описывают передачу фактических параметров и перенос возвращаемого результата из функции. Также добавленные комментарии описывают связь между параметрами языка Си и регистрами;

b. Убраны лишние макросы;

c. Был произведен рефакторинг за счет максимального использования регистров процессора;

d. Функции были вынесены в отдельный файл func - 3.s, а main находится в файле main - 3.s;

3. **Использованные опции компиляции:** 

a. **Компиляция напрямую из Си кода в машинный:** gcc -O0 -Wall -fno-asynchronous-unwind-tables main.c -o c

b. **Получение ассемблерного кода:** gcc -O0 -Wall -fno-asynchronous-unwind-tables -S main.c -o assemble.s

c. **Получение исполняемого файла:** gcc assemble.s -o assemble

4. **Тестовое покрытие:** 

Результат в программе на Си:

1. При работе с файлами:

Ввод

![ФАйл](https://user-images.githubusercontent.com/97798186/202863901-823e080a-692f-400f-b662-b36f0ca0b2ab.jpg)

Вывод

![ФАйл](https://user-images.githubusercontent.com/97798186/202863929-282cbf11-54e0-4afa-8af9-71674705f00c.jpg)

2. При генерации данных:

Сгенерированы a и b, границы интегрирования

![ФАйл](https://user-images.githubusercontent.com/97798186/202864476-c3a50a1c-da93-48de-a986-98823ffc9b3f.jpg)

Результат в программе на Ассемблере:

1. При работе с файлами:

Ввод - аналогичный файл, как в программе на Си

![ФАйл](https://user-images.githubusercontent.com/97798186/202863901-823e080a-692f-400f-b662-b36f0ca0b2ab.jpg)

И аналогичный вывод

![ФАйл](https://user-images.githubusercontent.com/97798186/202863929-282cbf11-54e0-4afa-8af9-71674705f00c.jpg)

2. При генерации данных:

Сгенерированы a и b, границы интегрирования

![ФАйл](https://user-images.githubusercontent.com/97798186/202864532-7308f680-86d6-4cad-9e42-5ff4495f04e8.jpg)

5. **Сравнение на производительность:** 

a. Для сравнения был использован файл, в котором a = 10, b = 20, нижний предел = 2, верхний предел = 13. Была использована функция clock().

Сначала была протестирована программа на Си. Ее результат:

![ФАйл](https://user-images.githubusercontent.com/97798186/202865151-d22e6ee0-d02a-4d4e-acf9-6c3b54b9ce53.jpg)

Затем протестировали программу на ассемблере:
